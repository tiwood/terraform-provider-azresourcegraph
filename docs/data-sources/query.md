---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "azresourcegraph_query Data Source - terraform-provider-azresourcegraph"
subcategory: ""
description: |-
  Data source for querying resources managed by Azure Resource Manager.
---

# azresourcegraph_query (Data Source)

Data source for querying resources managed by Azure Resource Manager.

## Example Usage

```terraform
// Get all Resource IDs of all resources

data "azresourcegraph_query" "all_resource_ids" {
  query = "Resources | project id"
}

output "all_resource_ids" {
  value = [
    for obj in jsondecode(data.azresourcegraph_query.all_resource_ids.result)[0] : obj.id
  ]
}

// Get all Key vaults with a specific tag in the `DEMO`
// Management group

data "azresourcegraph_query" "key_vaults" {
  management_group_ids = ["DEMO"]
  query                = <<QUERY
Resources
| where type =~ 'microsoft.keyvault/vaults'
| where tags.MY_TAG=~'my-value'
| project id, name, subscriptionId
QUERY
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `query` (String) The query to execute.

### Optional

- `management_group_ids` (Set of String) Azure management groups against which to execute the query.
- `subscription_ids` (Set of String) Azure subscription ids against which to execute the query.

### Read-Only

- `id` (String) The ID of this resource.
- `result` (String) The queries output in raw json format.


